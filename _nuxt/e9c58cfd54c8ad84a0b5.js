(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{1287:function(t,e,o){"use strict";o.r(e);o(64),o(46),o(34),o(19),o(45),o(30);var n=o(0),r=o(3),l=o(21),c=o(1155),d=o(1156),f=(o(1158),o(1198)),k=o(1199);function m(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(object);t&&(o=o.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,o)}return e}var h={name:"Profile",components:{NetworkSelectWithToken:f.a,TitleBar:d.a,HoldersTable:k.a,CardComponent:c.a},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?m(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):m(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(l.b)("common",["translationWord"]),{},Object(l.c)("batchquery",["tokenType"]),{titleStack:function(){return["Admin","Profile"]}},Object(l.c)(["userName","userEmail"])),methods:{fetchHolders:function(){var t=this;return Object(n.a)(regeneratorRuntime.mark((function e(){var o,n,r,l,c,i,d,f,k;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.holders=[],t.fromBlock=0,t.toBlock=0,null!=(o=t.latestBlock)){e.next=9;break}return e.next=7,t.$store.dispatch("batchquery/fetchBlockNumber");case 7:o=e.sent,console.info(o);case 9:t.buttonLoading=!0,n=1e3,r={},l=!1,c=1e4,i=0;case 15:if(!(i<c)){e.next=32;break}if(!l){e.next=18;break}return e.abrupt("break",32);case 18:return d=o-n*i,t.fromBlock=o-n*(i+1),t.toBlock=d,e.next=23,t.$store.dispatch("batchquery/bulkQueryEvents",{tokenType:t.tokenType,tokenId:t.tokenID,latestBlock:d,limit:n});case 23:f=e.sent,console.info(f),k=[],f.forEach((function(t,i){null==r[t.address]&&(r[t.address]=!0,k.push(t))})),t.holders=t.holders.concat(k),null!=t.maxTotal&&t.holders.length>=t.maxTotal&&(l=!0);case 29:i++,e.next=15;break;case 32:t.buttonLoading=!1,t.$buefy.snackbar.open({message:t.translationWord.tokenHolder.done,queue:!1,position:"is-bottom-right"});case 34:case"end":return e.stop()}}),e)})))()}},mounted:function(){},created:function(){this.$nextTick(Object(n.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)}))))},data:function(){return{holders:[],tokenID:null,buttonLoading:!1,latestBlock:null,fromBlock:0,toBlock:0}},head:function(){return{title:"ChainTools - Token Holder Scan"}}},v=o(26),component=Object(v.a)(h,(function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[o("section",{staticClass:"section is-main-section is-not-full-width"},[o("div",{staticClass:"is-main-content"},[o("p",{staticClass:"title is-5 has-text-centered"},[t._v("\n          "+t._s(t.translationWord.tokenHolder.title)+"\n        ")]),t._v(" "),o("NetworkSelectWithToken"),t._v(" "),o("div",[o("b-field",{attrs:{label:t.translationWord.tokenHolder.tokenID,expanded:""}},[o("b-input",{attrs:{size:"is-medium"},model:{value:t.tokenID,callback:function(e){t.tokenID=e},expression:"tokenID"}})],1),t._v(" "),o("b-field",{attrs:{grouped:""}},[o("b-field",{attrs:{label:t.translationWord.tokenHolder.totalAmount,expanded:""}},[o("b-input",{attrs:{size:"is-medium"},model:{value:t.maxTotal,callback:function(e){t.maxTotal=e},expression:"maxTotal"}})],1),t._v(" "),o("b-field",{attrs:{label:t.translationWord.tokenHolder.maxBlockNumber,expanded:""}},[o("b-input",{attrs:{size:"is-medium"},model:{value:t.latestBlock,callback:function(e){t.latestBlock=e},expression:"latestBlock"}})],1)],1)],1),t._v(" "),o("br"),t._v(" "),o("b-button",{staticClass:"is-info",attrs:{loading:t.buttonLoading},on:{click:t.fetchHolders}},[o("span",{staticClass:"is-size-6"},[t._v(" "+t._s(t.translationWord.button.scan))])]),t._v(" "),o("hr"),t._v(" "),t.buttonLoading?o("CardComponent",{staticClass:"tile is-child",attrs:{title:t.translationWord.tokenHolder.exportTitle,icon:"database-search"}},[o("b",{staticStyle:{"margin-bottom":"1rem",display:"inline-block"}},[t._v(t._s(t.translationWord.tokenHolder.scanning)+t._s(t.translationWord.tokenHolder.from)+t._s(t.fromBlock)+t._s(t.translationWord.tokenHolder.to)+t._s(t.toBlock))]),t._v(" "),o("b-progress",{attrs:{value:t.holders.length,size:"is-large",rounded:!1,type:"is-info",max:t.maxTotal,"show-value":""}},[o("span",{staticStyle:{color:"#f0f0f0"}},[t._v(t._s(t.holders.length)+" / "+t._s(t.maxTotal))])])],1):t._e(),t._v(" "),t.buttonLoading?o("hr"):t._e(),t._v(" "),o("CardComponent",{staticClass:"tile is-child",attrs:{title:t.translationWord.balanceQuery.result,icon:"database-search"}},[o("HoldersTable",{attrs:{balances:t.holders}})],1)],1)])])}),[],!1,null,null,null);e.default=component.exports}}]);