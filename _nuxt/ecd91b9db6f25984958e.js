(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{1213:function(t,e,n){"use strict";n(60),n(47),n(33),n(45),n(18),n(24);var r=n(0),o=n(3),c=(n(108),n(22)),l=n(1180);function d(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var h={props:{label:{type:String,default:""},networkChanged:{type:Function},submit:{type:Function},buttonLoading:{type:Boolean,default:!1},multiple:{type:Boolean,default:!1},fullwidth:{type:Boolean,default:!1},whitelist:{type:Array,default:function(){return[]}},blacklist:{type:Array,default:function(){return[]}},initSelectedChain:{type:Number,default:1},placeholder:{type:String,default:null}},components:{NetworkSelector:l.a},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?d(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):d(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(c.b)("common",["translationWord"])),created:function(){},watch:{},mounted:function(){this.adjustStyle()},data:function(){return{input:null}},methods:{submitInput:function(){this.submit&&this.submit(this.input)},switchNetworkChanged:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=function(time){return new Promise((function(t){return setTimeout(t,time)}))},n.next=3,r(100);case 3:e.adjustStyle(),e.networkChanged&&e.networkChanged(t);case 5:case"end":return n.stop()}}),n)})))()},adjustStyle:function(){var input=document.querySelector(".field-network-selector-input").getElementsByTagName("input")[0],t=document.querySelector(".field-network-selector");input.style="padding-left:"+(t.clientWidth+10)+"px;"}}},f=n(21),component=Object(f.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("b-field",{staticClass:"network-selector-field"},[n("div",{staticStyle:{position:"relative"}},[n("b-input",{staticClass:"field-network-selector-input",attrs:{placeholder:t.placeholder,expanded:""},model:{value:t.input,callback:function(e){t.input=e},expression:"input"}}),t._v(" "),n("NetworkSelector",{staticClass:"field-network-selector",staticStyle:{position:"absolute",top:"0",height:"100%"},attrs:{initSelectedChain:t.initSelectedChain,whitelist:t.whitelist,blacklist:t.blacklist,isMobile:!0,networkChanged:t.switchNetworkChanged}}),t._v(" "),n("b-button",{staticClass:"is-fullheight",staticStyle:{position:"absolute",top:"0",right:"0px","border-bottom-left-radius":"0px","border-top-left-radius":"0px"},attrs:{type:"is-info",loading:t.buttonLoading},on:{click:t.submitInput}},[n("span",{staticClass:"is-size-7"},[t._v(t._s(t.translationWord.button.check))])])],1)])}),[],!1,null,null,null);e.a=component.exports},1322:function(t,e,n){"use strict";n.r(e);n(60),n(47),n(18),n(45),n(33),n(376),n(49),n(24);var r=n(0),o=n(3),c=n(22),l=n(1173),d=n(1172),h=n(1174),f=n(1212),m=(n(1180),n(1213));function w(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var k={name:"BatchCollection",components:{HeroBar:h.a,CardComponent:d.a,TitleBar:l.a,ApprovalTable:f.a,InputWithNetworkSelector:m.a},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?w(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):w(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(c.b)("common",["translationWord"]),{},Object(c.b)("metamask",["currency","allNetworkConfig"]),{},Object(c.b)("dashboard",["menuNetworks"]),{},Object(c.c)("metamask",["ethAccount"]),{titleStack:function(){return["Admin","Dashboard"]},blacklist:function(){return[]},whitelist:function(){var t=this.$store.getters["common/chainId"];return[t.eth,t.bsc,t.polygon,t.avax,t.ftm,t.arbitrumOne,t.cronos,t.celo,t.aurora]}}),mounted:function(){var t=this;this.$nextTick(Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("dashboard/initialize");case 2:return e.next=4,t.$store.dispatch("batchquery/initBaseParams");case 4:t.$route.params.chain?(t.chain=t.$route.params.chain,(n=t.menuNetworks[t.chain])?(t.chain=n.name,t.chainId=parseInt(n.netId)):(t.chainId=1,t.chain=t.chain.toUpperCase())):(t.chainId=1,window.location.href.endsWith("/")?t.changeURL("eth"):t.changeURL("approvalChecker/eth"));case 5:case"end":return e.stop()}}),e)}))))},data:function(){return{chain:"ETH",checkAddress:null,approvals:[],buttonLoading:!1,chainId:1,explorer:{},tokenMetaInfo:{}}},methods:{networkChanged:function(t){this.chainId=parseInt(t.netId);var title="Chain Tools — "+t.symbol+" Token and NFT Approval Checker";this.changeURL(t.symbol.toLowerCase(),title)},changeURL:function(t,title){try{title||(title=document.title),history.pushState({},title,t)}catch(t){}},submit:function(input){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r,o,c,l,i,d,h,f,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(input){e.next=2;break}return e.abrupt("return");case 2:return t.buttonLoading=!0,e.prev=3,t.approvals=[],e.next=7,t.$store.dispatch("api/fetchApprovals",{chainId:t.chainId,address:input});case 7:for(n=e.sent,t.approvals=n,t.buttonLoading=!1,r=[],o=[],n.forEach((function(t,i){r.push(t.to),o.push(t.spender)})),c=[],l=[],20,i=0,d=r.length;i<d;i+=20)c.push(r.slice(i,i+20)),l.push(o.slice(i,i+20));!1,h=regeneratorRuntime.mark((function e(){var r,o,d;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f=c[i],m=l[i],e.next=4,t.$store.dispatch("batchquery/bulkQueryTokensInfo",{chainId:t.chainId,tokens:f,spenders:m,account:input});case 4:return r=e.sent,o=[],n.forEach((function(t,i){var e=t.to+"_"+t.spender;if(r[e]){var n=r[e];t.tokenInfo=n,t.isNFT&&(t.tokenInfo.allowance=t.allowance)}o.push(t)})),t.approvals=o,t.explorer=t.allNetworkConfig["netId".concat(t.chainId)].explorerUrl,e.next=12,t.$store.dispatch("api/fetchPublicTokenList",{chainId:t.chainId});case 12:d=e.sent,t.tokenMetaInfo=d;case 14:case"end":return e.stop()}}),e)})),i=0;case 20:if(!(i<c.length)){e.next=25;break}return e.delegateYield(h(),"t0",22);case 22:i++,e.next=20;break;case 25:e.next=31;break;case 27:e.prev=27,e.t1=e.catch(3),console.info("eee",e.t1),t.buttonLoading=!1;case 31:case"end":return e.stop()}}),e,null,[[3,27]])})))()},validateAddress:function(){return Object(r.a)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:case"end":return t.stop()}}),t)})))()}},watch:{netId:function(){},ethAccount:function(t){this.checkAddress||(this.checkAddress=t)},chainId:function(){}},head:function(){return{title:"Chain Tools — Token and NFT Approval Checker"}}},v=n(21),component=Object(v.a)(k,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"bg-shield"},[n("section",{staticClass:"section is-main-section is-not-full-width"},[n("div",{staticClass:"is-medium-content"},[n("p",{staticClass:"has-text-centered",staticStyle:{"font-size":"24px","font-weight":"bold"}},[t._v("\n        "+t._s(t.translationWord.approvalChecker.title)+"\n      ")]),t._v(" "),n("p",{staticClass:"sub-title has-text-centered"},[t._v("\n        "+t._s(t.translationWord.approvalChecker.desc)+"\n      ")]),t._v(" "),n("br"),t._v(" "),n("div",{staticClass:"fix-input-width medium margin-auto"},[n("InputWithNetworkSelector",{attrs:{whitelist:t.whitelist,placeholder:t.translationWord.formInfo.approvalWalletHolder,networkChanged:t.networkChanged,initSelectedChain:t.chainId,submit:t.submit,buttonLoading:t.buttonLoading}})],1),t._v(" "),n("br"),t._v(" "),n("CardComponent",{attrs:{title:t.translationWord.formInfo.approvals,icon:"history"}},[n("ApprovalTable",{attrs:{data:t.approvals,explorer:t.explorer,tokenMetaInfo:t.tokenMetaInfo,isLoading:t.buttonLoading}})],1)],1)])])}),[],!1,null,null,null);e.default=component.exports}}]);