(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{1317:function(t,e,n){"use strict";n.r(e);n(60),n(47),n(33),n(18),n(45),n(24);var o=n(0),r=n(3),l=n(22),c=n(1172),d=n(1173),h=n(1174),f=n(1175),v=n(1180),m=n(1224),w=n(1223);function _(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}var k={name:"Profile",components:{HeroBar:h.a,TitleBar:d.a,CardComponent:c.a,NetworkSelector:v.a,CardNFTItem:m.a,Tiles:f.a,CardNFTItemDetailModal:w.a},computed:function(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?_(Object(source),!0).forEach((function(e){Object(r.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):_(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}({},Object(l.b)("common",["translationWord","chainId"]),{},Object(l.c)("batchquery",["networkInfo"]),{},Object(l.c)("common",["language"]),{},Object(l.c)("metamask",["ethAccount","initialized"]),{whitelistChains:function(){var t=this.chainId;return[t.eth,t.bsc,t.polygon,t.avax,t.ftm,t.op,t.arbitrumOne]},tokenList:function(){var t=this.tokens,e=[];for(var n in t)e=e.concat(t[n]);var o=0;return e.forEach((function(t,i){t.value&&(o+=t.value.marketValue)})),e.forEach((function(t,i){t.value&&(t.value_percent=t.value.marketValue/o*100)})),e},tokenGroups:function(){var t;try{return(t="chainId",function(e){return e.reduce((function(e,n){var o=n[t];return e[o]=(e[o]||[]).concat(n),e}),{})})(this.tokenList)}catch(t){return{}}},totalValue:function(){var t,e=this.tokens;for(var n in e){t||(t=0),e[n].forEach((function(e,i){e.value&&(t+=e.value.marketValue)}))}return t}}),methods:{generateAccountImg:function(){document.getElementById("accountImg").style.backgroundImage="url("+blockies.create({seed:this.account,size:8,scale:16}).toDataURL()+")"},showDetail:function(t){window.bulkModal=this.$buefy.modal.open({parent:this,component:w.a,props:{item:t}})},formatPriceChangePercent:function(t){return t>0?"<span class='has-text-success'>+"+t.toFixed(2)+"%</span>":t?"<span class='has-text-danger'>"+t.toFixed(2)+"%</span>":"<span class='has-text-danger'>-</span>"},selectNetwork:function(t){this.chain=t.symbol.toLowerCase()},formatETH:function(t){return parseFloat((t/1e18).toFixed(2))},changeRowStyle:function(t,e){return"portfolio-row"},calcTotalValues:function(data){var t=0;return data.forEach((function(e,i){e.value&&(t+=e.value.marketValue)})),t},fetchTokens:function(address){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var i,n,o,r,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(address){e.next=2;break}return e.abrupt("return");case 2:i=0;case 3:if(!(i<t.whitelistChains.length)){e.next=22;break}return n=t.whitelistChains[i],e.prev=5,e.next=8,t.$store.dispatch("api/fetchTokens",{chainId:n,address:address});case 8:o=e.sent,r=Object.assign({},t.tokens),(l=[o.nativeBalance].concat(o.tokenBalances)).forEach((function(t,i){t.chainId=n})),r[o.chainId]=l,t.tokens=r,e.next=19;break;case 16:e.prev=16,e.t0=e.catch(5),console.info(e.t0);case 19:i++,e.next=3;break;case 22:case"end":return e.stop()}}),e,null,[[5,16]])})))()},fetchNFTs:function(address){var t=this;return Object(o.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,address){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t.$store.dispatch("api/fetchNFTs",{chainId:1,address:address});case 5:n=e.sent,console.info("nfts",n),t.nfts=n,e.next=13;break;case 10:e.prev=10,e.t0=e.catch(0),console.info(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,10]])})))()},startFetchData:function(){this.account&&(this.generateAccountImg(),1==this.tokenType?this.fetchNFTs(this.account):this.fetchTokens(this.account))}},data:function(){return{network:"ETH",chain:"eth",gasInfo:null,gasHistory:null,tokens:{1:[1],56:[1],137:[1]},isList:!0,tokenType:0,nfts:[],account:null}},watch:{ethAccount:function(t){this.account=t,this.startFetchData()},tokenType:function(t){t?this.fetchNFTs(this.account):this.fetchTokens(this.account)}},mounted:function(){var t=this;this.$nextTick(Object(o.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("dashboard/initialize");case 2:case"end":return e.stop()}}),e)})))),this.initialized&&(this.account=this.ethAccount,this.startFetchData()),$nuxt.$bus.$on("updateGasInfo",(function(e){t.chain=e}))},head:function(){return{title:"ChainTools - Portfolio / Wallet Profile",script:[{src:"/3rd/blockies.min.js",body:!0,callback:function(){console.info("loaded")}}]}}},C=n(21),component=Object(C.a)(k,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("section",{staticClass:"section is-main-section"},[n("div",{staticClass:"is-main-content"},[n("div",{staticClass:"c-level"},[n("div",{staticClass:"c-level-left flex"},[n("div",{staticClass:"round-corner",staticStyle:{width:"60px",height:"60px"},attrs:{id:"accountImg"}}),t._v(" "),n("div",{staticClass:"margin-l font-bold"},[n("p",{staticStyle:{"margin-bottom":"7px"}},[t._v(t._s(t.account))]),t._v(" "),n("div",{staticClass:"c-level"},[n("div",{staticClass:"c-level-left"},[n("div",{staticClass:"buttons "},[n("b-tooltip",{staticClass:"margin-r",attrs:{label:"Copy address",type:"is-black"}},[n("b-button",{staticClass:"round-circle",attrs:{size:"is-small","icon-left":"content-copy"}})],1),t._v(" "),n("b-tooltip",{staticClass:"margin-r",attrs:{label:"View on explore",type:"is-black"}},[n("b-button",{staticClass:"round-circle",attrs:{size:"is-small","icon-right":"open-in-new"}})],1),t._v(" "),n("b-tooltip",{staticClass:"margin-r",attrs:{label:"Share your profile",type:"is-black"}},[n("b-button",{staticClass:"round-circle",attrs:{size:"is-small","icon-right":"share"}})],1)],1)]),t._v(" "),n("div",{staticClass:"c-level-right"},[n("div",{staticClass:"buttons "},[n("b-tooltip",{attrs:{label:"Change other wallet",type:"is-black"}},[n("b-button",{staticClass:"round-circle",attrs:{size:"is-small","icon-right":"pencil-outline"}})],1)],1)])])])]),t._v(" "),n("div",{staticClass:"c-level-left-right"})]),t._v(" "),n("br"),t._v(" "),n("div",{staticClass:"c-level"},[n("div",{staticClass:"c-level-left"},[n("p",{staticClass:"font-bold is-size-6"},[t._v("Net Worth")]),t._v(" "),n("p",{staticClass:"font-bold is-size-5"},[t.totalValue?[t._v("$"+t._s(t._f("1000")(t.totalValue)))]:[n("b-skeleton",{attrs:{animated:!0,width:"150px",height:"30px",count:1}})]],2)]),t._v(" "),n("div",{staticClass:"c-level-right"},[n("b-field",[n("p",{staticClass:"control"},[n("NetworkSelector",{attrs:{whitelist:t.whitelistChains,networkChanged:t.selectNetwork,multiple:""}})],1)])],1)]),t._v(" "),n("br"),t._v(" "),n("card-component",[n("div",{staticClass:"c-level margin-b"},[n("div",{staticClass:"c-level-left"},[n("p",{staticClass:"title is-5"},[t._v("Assets")])]),t._v(" "),n("div",{staticClass:"c-level-right"},[n("div",{staticClass:"flex"},[n("b-dropdown",{staticClass:"margin-r",staticStyle:{"max-height":"33px !important"},attrs:{"aria-role":"list"},scopedSlots:t._u([{key:"trigger",fn:function(){return[n("b-button",{staticStyle:{height:"32.5px"},attrs:{"icon-right":"menu-down"}},[n("span",{staticClass:"is-size-7",domProps:{textContent:t._s(t.isList?"List view":"Group view")}})])]},proxy:!0}]),model:{value:t.isList,callback:function(e){t.isList=e},expression:"isList"}},[t._v(" "),n("b-dropdown-item",{attrs:{value:!1,"aria-role":"listitem"}},[n("h3",[t._v("Group view")])]),t._v(" "),n("b-dropdown-item",{attrs:{value:!0,"aria-role":"listitem"}},[n("h3",[t._v("List view")])])],1),t._v(" "),n("b-tabs",{staticClass:"form-tabs",attrs:{type:"is-toggle",size:"is-small"},model:{value:t.tokenType,callback:function(e){t.tokenType=e},expression:"tokenType"}},[n("b-tab-item",{attrs:{label:"Token",value:"0"}}),t._v(" "),n("b-tab-item",{attrs:{label:"NFT",value:"1"}})],1)],1)])]),t._v(" "),0==t.tokenType?n("div",[t.isList?[n("b-table",{attrs:{striped:!1,hoverable:!0,data:t.tokenList,"sort-icon":"menu-up","row-class":t.changeRowStyle,"custom-row-key":"ID"}},[t.tokenList.length?[n("b-table-column",{attrs:{label:"Token",field:"address",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticClass:"flex center-h"},[e.row.iconUrl?n("span",{staticStyle:{position:"relative"}},[1!=[e.row.chainId]?n("img",{staticStyle:{left:"-8px",top:"-8px",width:"20px",height:"20px","border-radius":"50%",position:"absolute",border:"2px solid #fff"},attrs:{src:"/networks/"+t.networkInfo[e.row.chainId].icon}}):t._e(),t._v(" "),n("img",{staticClass:"margin-r",staticStyle:{width:"32px",height:"32px","border-radius":"50%"},attrs:{src:e.row.iconUrl}})]):n("span",{staticStyle:{"max-width":"32px","margin-right":"1rem"}},[n("b-skeleton",{attrs:{circle:"",width:"32px",height:"32px",animated:!0}})],1),t._v(" "),n("div",[e.row.name?[n("p",{staticClass:"font-bold is-size-6"},[t._v("\n                  "+t._s(e.row.symbol)+"\n                 ")]),t._v(" "),n("p",{staticClass:"is-size-6"},[t._v("\n                   "+t._s(e.row.name)+"\n                 ")])]:[n("p",{staticClass:"font-bold is-size-6"},[n("b-skeleton",{attrs:{animated:!0,width:"150px",height:"20px",count:1}})],1),t._v(" "),n("p",{staticClass:"is-size-6"},[n("b-skeleton",{attrs:{animated:!0,width:"150px",height:"20px",count:1}})],1)]],2)])]}}],null,!1,3165997061)}),t._v(" "),n("b-table-column",{attrs:{label:"Portfolio %",field:"value_percent",width:"300",sortable:""},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.value?[n("p",{staticClass:"font-bold is-size-6"},[t._v(t._s(t._f("toFixed")(e.row.value_percent,2))+" %")])]:[n("b-skeleton",{attrs:{animated:!0,width:"250px",height:"20px",count:2}})]]}}],null,!1,2644560435)}),t._v(" "),n("b-table-column",{attrs:{label:"Price",field:"address",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.value?[n("p",{staticClass:"font-bold is-size-6"},[t._v("$"+t._s(t._f("1000")(e.row.value.price)))]),t._v(" "),n("p",{staticClass:"is-size-6",domProps:{innerHTML:t._s(t.formatPriceChangePercent(e.row.value.marketCapPercentChange1d))}})]:[n("p",{staticClass:"font-bold is-size-6"},[n("b-skeleton",{attrs:{animated:!0,width:"200px",height:"20px",count:1}})],1),t._v(" "),n("p",{staticClass:"is-size-6"},[n("b-skeleton",{attrs:{animated:!0,width:"200px",height:"20px",count:1}})],1)]]}}],null,!1,3761169922)}),t._v(" "),n("b-table-column",{attrs:{label:"Balance",field:"address",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.balance||e.row.balance?[n("p",{staticClass:"font-bold is-size-6"},[t._v(t._s(t._f("1000")(e.row.balance)))]),t._v(" "),n("p",{staticClass:"is-size-6"},[t._v("$"+t._s(t._f("1000")(e.row.balance*e.row.value.price)))])]:[n("p",{staticClass:"font-bold is-size-6"},[n("b-skeleton",{attrs:{animated:!0,width:"200px",height:"20px",count:1}})],1),t._v(" "),n("p",{staticClass:"is-size-6"},[n("b-skeleton",{attrs:{animated:!0,width:"200px",height:"20px",count:1}})],1)]]}}],null,!1,1153508352)})]:t._e()],2)]:t._l(t.tokenGroups,(function(data,e,o){return n("div",[n("div",{staticClass:"c-level profile-header-title"},[n("div",{staticClass:"c-level-left c-level-item small font-bold"},[t._v("\n         "+t._s(t.networkInfo[e].name)+"\n       ")]),t._v(" "),n("div",{staticClass:"c-level-right c-level-item small font-bold"},[t._v("\n         $"+t._s(t._f("1000")(t.calcTotalValues(data)))+"\n       ")])]),t._v(" "),n("b-table",{attrs:{striped:!1,hoverable:!0,data:data,"row-class":t.changeRowStyle,"custom-row-key":"ID"}},[data.length?[n("b-table-column",{attrs:{width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[n("div",{staticClass:"flex center-h"},[e.row.iconUrl?n("span",{staticStyle:{position:"relative"}},[n("img",{staticClass:"margin-r",staticStyle:{width:"32px",height:"32px","border-radius":"50%"},attrs:{src:e.row.iconUrl}})]):n("span",{staticStyle:{"max-width":"32px","margin-right":"1rem"}},[n("b-skeleton",{attrs:{circle:"",width:"32px",height:"32px",animated:!0}})],1),t._v(" "),n("div",[e.row.name?[n("p",{staticClass:"font-bold is-size-6"},[t._v("\n                "+t._s(e.row.symbol)+"\n               ")]),t._v(" "),n("p",{staticClass:"is-size-6"},[t._v("\n                 "+t._s(e.row.name)+"\n               ")])]:[n("p",{staticClass:"font-bold is-size-6"},[n("b-skeleton",{attrs:{animated:!0,width:"150px",height:"20px",count:1}})],1),t._v(" "),n("p",{staticClass:"is-size-6"},[n("b-skeleton",{attrs:{animated:!0,width:"150px",height:"20px",count:1}})],1)]],2)])]}}],null,!0)}),t._v(" "),n("b-table-column",{attrs:{field:"address",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.value?[n("p",{staticClass:"font-bold is-size-6"},[t._v(t._s(t._f("toFixed")(e.row.value_percent,2))+" %")])]:[n("b-skeleton",{attrs:{animated:!0,width:"250px",height:"20px",count:2}})]]}}],null,!0)}),t._v(" "),n("b-table-column",{attrs:{field:"address",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.value?[n("p",{staticClass:"font-bold is-size-6"},[t._v("$"+t._s(t._f("1000")(e.row.value.price)))]),t._v(" "),n("p",{staticClass:"is-size-6",domProps:{innerHTML:t._s(t.formatPriceChangePercent(e.row.value.marketCapPercentChange1d))}})]:[n("p",{staticClass:"font-bold is-size-6"},[n("b-skeleton",{attrs:{animated:!0,width:"200px",height:"20px",count:1}})],1),t._v(" "),n("p",{staticClass:"is-size-6"},[n("b-skeleton",{attrs:{animated:!0,width:"200px",height:"20px",count:1}})],1)]]}}],null,!0)}),t._v(" "),n("b-table-column",{attrs:{field:"address",width:"300"},scopedSlots:t._u([{key:"default",fn:function(e){return[0==e.row.balance||e.row.balance?[n("p",{staticClass:"font-bold is-size-6"},[t._v(t._s(t._f("1000")(e.row.balance)))]),t._v(" "),n("p",{staticClass:"is-size-6"},[t._v("$"+t._s(t._f("1000")(e.row.balance*e.row.value.price)))])]:[n("p",{staticClass:"font-bold is-size-6"},[n("b-skeleton",{attrs:{animated:!0,width:"200px",height:"20px",count:1}})],1),t._v(" "),n("p",{staticClass:"is-size-6"},[n("b-skeleton",{attrs:{animated:!0,width:"200px",height:"20px",count:1}})],1)]]}}],null,!0)})]:t._e()],2)],1)}))],2):n("div",[n("b-collapse",{staticClass:"card",attrs:{animation:"slide","aria-id":"contentIdForA11y3"},scopedSlots:t._u([{key:"trigger",fn:function(e){return[n("div",{staticClass:"card-header",attrs:{role:"button","aria-expanded":e.open}},[n("p",{staticClass:"card-header-title"},[t._v("\n                      Your NFTs\n                  ")]),t._v(" "),n("a",{staticClass:"card-header-icon"},[n("b-icon",{attrs:{icon:e.open?"chevron-down":"chevron-up"}})],1)])]}}])},[t._v(" "),n("tiles",{attrs:{maxPerRow:6}},t._l(t.nfts,(function(e,o){return n("CardNFTItem",{key:o,staticClass:"tile is-child",attrs:{type:"is-info",item:e},nativeOn:{click:function(n){return t.showDetail(e)}}})})),1)],1)],1)])],1)])])}),[],!1,null,null,null);e.default=component.exports}}]);